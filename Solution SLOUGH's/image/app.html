<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Двумерный массив</title>
	<style>
		input {
			width: 50px;
			/* Регулируйте размер input по вашему усмотрению */
		}
	</style>
</head>

<body>

	<script>
		// Функция для создания двумерного массива и отображения его в виде таблицы с элементами input
		function createArrayAndDisplay(inputArray) {
			var arr = []

			// Создаем таблицу
			var table = document.createElement("table")

			for (var i = 0; i < inputArray.length; i++) {
				var row = table.insertRow()

				arr[i] = []

				for (var j = 0; j < inputArray[i].length; j++) {
					// Создаем input для ввода значения
					var input = document.createElement("input")
					input.type = "text"
					input.id = "input_" + i + "_" + j
					input.value = inputArray[i][j] // Устанавливаем значение из предварительно известного массива

					// Добавляем обработчик события для отслеживания изменений в input
					input.addEventListener("input", function (event) {
						// Получаем индексы ячейки из id элемента input
						var indices = event.target.id.split("_")
						var rowIndex = parseInt(indices[1])
						var colIndex = parseInt(indices[2])

						// Записываем значение в массив
						arr[rowIndex][colIndex] = parseFloat(event.target.value)
					})

					// Добавляем input в ячейку
					var cell = row.insertCell()
					cell.appendChild(input)

					// Заполняем ячейку массива
					arr[i][j] = inputArray[i][j]
				}
			}

			// Вставляем таблицу в body
			document.body.appendChild(table)

			return arr
		}

		// Функция для вывода массива в консоль
		function logArray(array) {
			console.log("Измененный массив:", array)
		}

		// Заранее известный двумерный массив
		var initialValues = [
			[1, 2, 3],
			[4, 5, 6],
			[7, 8, 9]
		]

		// Создаем двумерный массив и отображаем его в виде таблицы
		var myArray = createArrayAndDisplay(initialValues)

		// Добавляем кнопку "Применить"
		var applyButton = document.createElement("button")
		applyButton.textContent = "Применить"
		applyButton.addEventListener("click", function () {
			logArray(myArray)
		})

		// Вставляем кнопку в body
		document.body.appendChild(applyButton);
	</script>

</body>

</html>